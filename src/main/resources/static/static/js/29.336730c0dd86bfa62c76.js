webpackJsonp([29],{"85/3":function(e,t,a){"use strict";t.c=function(e){return Object(i.a)({url:"/dojo/"+e,method:"get"})},t.d=function(e){return Object(i.a)({url:"/dojo/update",method:"post",data:e})},t.b=function(){return Object(i.a)({url:"/member/findAll",method:"get"})},t.e=function(e){return Object(i.a)({url:"/member/update",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/member/delete",method:"post",data:{id:e}})};var i=a("vLgD")},HEB7:function(e,t){},Rry1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("s/Rn"),n=a("85/3"),s=a("zL8q"),l=0,o={name:"brandList",data:function(){return{operates:[{label:"显示品牌",value:"showBrand"},{label:"隐藏品牌",value:"hideBrand"}],operateType:null,listQuery:{keyword:null,pageNum:1,pageSize:10},list:null,member:{id:"",person:{id:"",nickname:"",mobileNumber:""},position:"",state:""},total:null,listLoading:!0,multipleSelection:[],dialogVisible:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(n.b)().then(function(t){e.listLoading=!1,e.list=t.data,e.total=t.data.total,e.totalPage=t.data.totalPage,e.pageSize=t.data.pageSize})},handleSelectionChange:function(e){this.multipleSelection=e},showUpdateDialog:function(e,t){this.member.person.id=this.list[e].person.id,this.member.person.nickname=this.list[e].person.nickname,this.member.person.mobileNumber=this.list[e].person.mobileNumber,this.member.position=this.list[e].position,this.member.state=this.list[e].state,this.member.id=this.list[e].id,this.dialogVisible=!0,l=e},updateMember:function(){var e=this,t=this;console.log("member:",t.member),Object(n.e)(t.member).then(function(a){t.list[l].position=e.member.position,t.list[l].state=e.member.state,200==a.status?(t.dialogVisible=!1,Object(s.Message)({message:"修改成功",type:"success",duration:1e3})):Object(s.Message)({message:a.msg,type:"error",duration:3e3})})},deleteMember:function(e,t){var a=this;this.$confirm("是否要删除该成员吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.a)(t.id).then(function(e){a.$message({message:"删除成功",type:"success",duration:1e3}),a.getList()})})},getProductList:function(e,t){console.log(e,t)},getProductCommentList:function(e,t){console.log(e,t)},handleFactoryStatusChange:function(e,t){var a=this,n=new URLSearchParams;n.append("ids",t.id),n.append("factoryStatus",t.factoryStatus),Object(i.f)(n).then(function(e){a.$message({message:"修改成功",type:"success",duration:1e3})}).catch(function(e){0===t.factoryStatus?t.factoryStatus=1:t.factoryStatus=0})},handleShowStatusChange:function(e,t){var a=this,n=new URLSearchParams;n.append("ids",t.id),n.append("showStatus",t.showStatus),Object(i.g)(n).then(function(e){a.$message({message:"修改成功",type:"success",duration:1e3})}).catch(function(e){0===t.showStatus?t.showStatus=1:t.showStatus=0})},handleSizeChange:function(e){this.listQuery.pageNum=1,this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getList()},searchBrandList:function(){this.listQuery.pageNum=1,this.getList()},handleBatchOperate:function(){var e=this;if(console.log(this.multipleSelection),this.multipleSelection<1)this.$message({message:"请选择一条记录",type:"warning",duration:1e3});else{var t=0;if("showBrand"===this.operateType)t=1;else{if("hideBrand"!==this.operateType)return void this.$message({message:"请选择批量操作类型",type:"warning",duration:1e3});t=0}for(var a=[],n=0;n<this.multipleSelection.length;n++)a.push(this.multipleSelection[n].id);var s=new URLSearchParams;s.append("ids",a),s.append("showStatus",t),Object(i.g)(s).then(function(t){e.getList(),e.$message({message:"修改成功",type:"success",duration:1e3})})}},addBrand:function(){this.$router.push({path:"/pms/addBrand"})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),e._v(" "),a("span",[e._v("筛选搜索")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"medium"},on:{click:function(t){e.searchBrandList()}}},[e._v("\n            查询\n          ")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form",{attrs:{inline:!0,model:e.listQuery,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"输入搜索："}},[a("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"姓名/关键信息"},model:{value:e.listQuery.keyword,callback:function(t){e.$set(e.listQuery,"keyword",t)},expression:"listQuery.keyword"}})],1)],1)],1)]),e._v(" "),a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-tickets"}),e._v(" "),a("span",[e._v("成员列表")]),e._v(" "),a("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(t){e.addBrand()}}},[e._v("\n        添加\n      ")])],1),e._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"brandTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.person.nickname))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"职位",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.position))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.state))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"入馆时间",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.inTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showUpdateDialog(t.$index,t.row)}}},[e._v("修改\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteMember(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"batch-operate-container"},[a("el-select",{attrs:{size:"small",placeholder:"批量操作"},model:{value:e.operateType,callback:function(t){e.operateType=t},expression:"operateType"}},e._l(e.operates,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{staticClass:"search-button",staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleBatchOperate()}}},[e._v("\n        确定\n      ")])],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":e.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":e.listQuery.pageNum,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"pageNum",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"修改成员信息",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"memberForm",attrs:{model:e.member,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:e.member.person.nickname,callback:function(t){e.$set(e.member.person,"nickname",t)},expression:"member.person.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:e.member.person.mobileNumber,callback:function(t){e.$set(e.member.person,"mobileNumber",t)},expression:"member.person.mobileNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位："}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.member.position,callback:function(t){e.$set(e.member,"position",t)},expression:"member.position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.member.state,callback:function(t){e.$set(e.member,"state",t)},expression:"member.state"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateMember()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(e){a("HEB7")},"data-v-64bb1278",null);t.default=c.exports}});
//# sourceMappingURL=29.336730c0dd86bfa62c76.js.map