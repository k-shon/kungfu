webpackJsonp([43],{"8zhs":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n=a("vLgD");a("mw3O");var r=a("4UJP"),o=(a("zL8q"),{name:"person",data:function(){return{defaultAvatar:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1570773046879&di=0164a258a87ab4ffcd79ca4ac1673e8d&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01786557e4a6fa0000018c1bf080ca.png",person:{id:"",avatar:"",nickname:"",idcard:"",mobileNumber:"",email:"",sex:"",age:""},edit:{isBaseEdit:!0,isBaseEditShow:!0},myself:this}},mounted:function(){this.getPersonInfo()},methods:{getPersonInfo:function(){var e=JSON.parse(sessionStorage.getItem("person"));this.person.id=e.id,this.person.avatar=e.avatar,this.person.nickname=e.nickname,this.person.idcard=e.idcard,this.person.mobileNumber=e.mobileNumber,this.person.email=e.email,this.person.sex=e.sex,this.person.age=e.age},update:function(e){var t=this;Object(r.a)(this.person).then(function(e){t.baseEdit(),sessionStorage.setItem("person",i()(t.person))})},selectAvatar:function(){document.getElementById("avatar").click()},avatarChange:function(){var e,t=this,a=new window.FormData;a.append("file",document.getElementById("avatar").files[0]),(e=a,Object(n.a)({url:"/imgUpload/single",method:"post",data:e})).then(function(e){t.person.avatar=e.data})},baseEdit:function(){this.edit.isBaseEditShow=!this.edit.isBaseEditShow,this.edit.isBaseEdit=!this.edit.isBaseEdit},baseClear:function(){this.person={}},baseCancel:function(){this.baseEdit(),this.getPersonInfo()}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"person",staticClass:"form-container",attrs:{model:e.person,"label-width":"80px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本信息")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.edit.isBaseEditShow,expression:"edit.isBaseEditShow"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.baseEdit()}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.edit.isBaseEditShow,expression:"!edit.isBaseEditShow"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.update("baseEdit")}}},[e._v("保存")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.edit.isBaseEditShow,expression:"!edit.isBaseEditShow"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.baseClear()}}},[e._v("清空")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.edit.isBaseEditShow,expression:"!edit.isBaseEditShow"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.baseCancel()}}},[e._v("取消")])],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-form-item",{staticStyle:{"margin-left":"70px"},nativeOn:{click:function(t){t.preventDefault(),e.selectAvatar()}}},[null!=e.person.avatar?a("el-avatar",{key:e.person.avatar,staticStyle:{cursor:"pointer"},attrs:{size:90,src:e.person.avatar,alt:"头像"}}):a("el-avatar",{key:e.person.avatar,staticStyle:{cursor:"pointer"},attrs:{size:90,alt:"头像",src:e.defaultAvatar}})],1),e._v(" "),a("input",{attrs:{type:"file",name:"file",hidden:"hidden",id:"avatar",disabled:e.edit.isBaseEdit},on:{change:function(t){e.avatarChange()}}}),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.nickname,callback:function(t){e.$set(e.person,"nickname",t)},expression:"person.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.sex,callback:function(t){e.$set(e.person,"sex",t)},expression:"person.sex"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.age,callback:function(t){e.$set(e.person,"age",t)},expression:"person.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.idcard,callback:function(t){e.$set(e.person,"idcard",t)},expression:"person.idcard"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.mobileNumber,callback:function(t){e.$set(e.person,"mobileNumber",t)},expression:"person.mobileNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{staticClass:"my-input",attrs:{size:"small",disabled:e.edit.isBaseEdit},model:{value:e.person.email,callback:function(t){e.$set(e.person,"email",t)},expression:"person.email"}})],1)],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(o,l,!1,function(e){a("kkQ0")},null,null);t.default=d.exports},kkQ0:function(e,t){}});
//# sourceMappingURL=43.86b58e9ab06198db8a56.js.map